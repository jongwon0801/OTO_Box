#### dnsmasq 확인 명령어
```less
# 서비스 상태 확인
systemctl status dnsmasq

# 실행 중인지 간단히 확인
systemctl is-active dnsmasq

# 설치 여부 확인 (Debian/Ubuntu 계열)
dpkg -l | grep dnsmasq

# 프로세스 확인
ps aux | grep dnsmasq
```

#### WIFI AP mode
```less
sudo apt-get install hostapd dnsmasq -y
sudo systemctl stop hostapd
sudo systemctl stop dnsmasq
```

#### AP 구성 (파일 새로 만듬)
```less
sudo nano /etc/hostapd/hostapd.conf
```

#### 기존 보관함 세팅
```less
country_code=KR
interface=wlan0
driver=nl80211
ssid=오투오박스-11013
hw_mode=g
channel=7
wmm_enabled=0
macaddr_acl=0
auth_algs=1
ignore_broadcast_ssid=0
wpa=2
wpa_passphrase=tmshdnxmfl
wpa_key_mgmt=WPA-PSK
wpa_pairwise=TKIP
rsn_pairwise=CCMP
```

#### 신규 구성
```less
interface=wlan0
driver=nl80211
ssid=오투오박스-10010
hw_mode=g
channel=6
wmm_enabled=0
macaddr_acl=0
auth_algs=1
ignore_broadcast_ssid=0
wpa=2
wpa_passphrase=tmshdnxmfl
wpq_key_mgmt=WPA-PSK
wpa_pairwise=TKIP
rsn_repairwise=CCMP
```

#### 데몬 경로지정
```less
DAEMON_CONF="/etc/hostapd/hostapd.conf"
```

#### default가 mask로 되어있는 경우에 unmask 실행
```less
sudo systemctl unmask hostapd

sudo systemctl enable hostapd
```

#### gateway static ip
```less
sudo nano /etc/dhcpcd.conf
```

```less
interface wlan0
static ip_address=172.24.1.1/24
nohook wpa_supplicant
```

#### DHCP 서버 구성
```less
sudo nano /etc/dnsmasq.conf
```

```less
interface-wlan0
bind-dynamic
domain-needed
bogus-priv
dhcp-range=172.24.1.150,172.24.1.200,255.255.255.0,12h
```










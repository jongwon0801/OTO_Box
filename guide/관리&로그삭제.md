#### 보관함 관리 가이드


#### 1. 전체 파일 시스템의 사용량을 확인

```
df -h
```

#### 2. MotionEye 명령어

```
# MotionEye 서비스를 중지
sudo systemctl stop motioneye

# 재부팅 시 자동 시작 막기
sudo systemctl disable motioneye

# 다시 시작
sudo systemctl start motioneye

```

#### 3. 라즈베리파이 용량 부족 시 파일 삭제 명령어

```
sudo rm -rf /var/log/*.log

로그 파일 크기 줄이기 (파일은 유지, 내용만 삭제)

sudo truncate -s 0 /var/log/syslog

```

#### log 조회
```
cd /var/log/

# gz 파일 전부 삭제
sudo rm /var/log/*.gz

# log 파일 전부 삭제
sudo rm /var/log/*.log

rm -rf는 디렉토리 포함 모든 파일을 삭제할 때 사용
```

#### logrotate 설정
```less
nano /etc/logrotate.conf

# 버전확인
logrotate --version

nano /etc/logrotate.conf

weekly          # 로그를 매주 회전
rotate 4        # 4주치 로그를 보관
create          # 회전 후 새 로그 파일 생성
```

#### 장고 로그 삭제
```less
df -h

/home/pi/Workspace/appleapp/logs

find . -maxdepth 1 -type f -name "django.log.20*" -delete

-maxdepth 1 → 현재 디렉토리만 검색

-type f → 파일만

-name → django.log.20으로 시작

-delete → 바로 삭제
```

```less
truncate -s 0 django.log
-s 0 → 파일 크기를 0으로 줄여서 내용만 지움
파일 권한, 소유자, inode 그대로 유지됨

```



